<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>

<html xmlns:epub="http://www.idpf.org/2007/ops" xmlns="http://www.w3.org/1999/xhtml" xmlns:xml="http://www.w3.org/XML/1998/namespace" xml:lang="fr" lang="fr">
<head>
    <title>Anim_alternateur_elementaire_v5</title>
    <link href="../Styles/anim_styles_v6.css" rel="stylesheet" type="text/css"/>
    <script src="../Misc/anim_alternateur_v5.js" type="text/javascript"></script>
    <link href="../Styles/pw_table_style.css" rel="stylesheet" type="text/css"/>
</head>

<body>
    <h2><b>10.1a L'alternateur élémentaire: animation</b></h2>
    <!-- Inserer un canvas pour l' animation-->
    <canvas id="canvas_id" width="1262" height="420" class="canvas">
        Ho la la !!
        <br/>Malheureusement votre lecteur ne supporte pas Canvas ... l'animation ne peut pas fonctionner.
        <br/>
    </canvas>
    <br/>
    <form>
        <!-- insérer les boutons de commande-->
        <button class="button" type="button" onclick="stepRotorMoinsMoins()">--</button>
        <button class="button" type="button" onclick="stepRotorMoins()">-</button>
        <button class="button button-show" type="button" onclick="runMotor()">Go/Stop</button>
        <button class="button" type="button" onclick="stepRotorPlus()">+</button>
        <button class="button" type="button" onclick="stepRotorPlusPlus()">++</button>

        <!-- insérer les champs pour les textes-->
        <textarea class="textareaphi" id="txt_deg" rows="1" cols="12">phi = 0˚</textarea>
        <textarea class="textareaph1" id="txt_ph1" rows="1" cols="12">U = 0V</textarea>
        <textarea class="textareaph2" id="txt_ph2" rows="1" cols="12" style="display: none;">ph2</textarea>
        <textarea class="textareaph3" id="txt_ph3" rows="1" cols="12" style="display: none;">ph3</textarea>

        <!-- Et voila le script javascript-->
        <script>
            // Fonction appellée par le resize
            document.getElementsByTagName("body")[0].onresize = function() {onResizeAction()};

             // récupérer les informations du canvas
            var canvas_element = document.getElementById("canvas_id");
            var ctx = canvas_element.getContext("2d");

            var txt_ph2 = document.getElementById("txt_ph2");
            var txt_ph3 = document.getElementById("txt_ph3");
            var btn_mono = document.getElementById("btn_mono");


            var w1 = ctx.canvas.width;
            var h1 = ctx.canvas.height;

             // variable de gestion des dimensions 
            var Rr; // Rr = demi hauteur du canvas
            var R; // R = 20% de moins que le demi canvas
            var Rx; // Rx = décalage pour le graphique
            var l_width; // l_width = epaisseur des traits noirs
            var gradLen; // longuer trait fraduation

             // initialisation dimensions et décalage du graphqie
            var Ymin;
            var Ymax;
            var Xmin;
            var Xmax;
            var Xlen; // longueur de l'axe des x

            var s; // epaisseur du stator
            var r; // rayon moyen du stator
            var p = 0; // angle initial du rotor en degres
            var c; // cote de l'encoche
            var w; // diametre du fil

            var sleep_time = 100; // pause en ms entre deux pas en automatique
            var anim_running = false;
            var stop_asked = false;
            var p_inc = 1; // incrementation pour run auto
            var u_crete = 326; // tension de crête

            var ph1_color = "#ff4500"; // OrangeRed
            var ph2_color = "#87cefa"; // LightSkyBlue
            var ph3_color = "#32cd32"; // LimeGreen

            var lines_YN = true; // sho/hide dotted lines
            var tension_YN = true; // true : show sinus val
            var monophase_YN = true; // true : monophase
			var valeurs_YN = false;

            var verif_scope = "le scope est à vérifier";

             // lancer l'animation
            onResizeAction(); // calculate all the dimentions
        </script></form>
</body>
</html>